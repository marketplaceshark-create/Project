<nav class="navbar navbar-expand-lg sticky-top">
    <div class="container">
        <a class="navbar-brand" href="index.html"><i class="bi bi-flower1"></i> Agrivendia</a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item"><a class="nav-link" ng-class="{'active-link': activePage=='home'}" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" ng-class="{'active-link': activePage=='category'}" href="category.html">Categories</a></li>
                <li class="nav-item"><a class="nav-link" ng-class="{'active-link': activePage=='market'}" href="market.html">Market</a></li>
                <li class="nav-item"><a class="nav-link" ng-class="{'active-link': activePage=='plan'}" href="plan.html">Plans</a></li>
                <li class="nav-item"><a class="nav-link" ng-class="{'active-link': activePage=='about'}" href="about.html">About Us</a></li>
            </ul>

            <div class="d-flex align-items-center">
                <!-- Logged In -->
                <div ng-if="currentUser" class="dropdown">
                    <a class="nav-link dropdown-toggle text-success fw-bold p-0" href="#" data-bs-toggle="dropdown">
                        <i class="bi bi-person-circle"></i> Hi, {{currentUser.name}}
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end shadow border-0 mt-2">
                        <li><a class="dropdown-item" href="customer_dashboard.html"><i class="bi bi-speedometer2 me-2"></i> My Dashboard</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#" ng-click="logout()"><i class="bi bi-box-arrow-right me-2"></i> Logout</a></li>
                    </ul>
                </div>
                <!-- Logged Out -->
                <div ng-if="!currentUser" class="d-flex">
                    <a href="login.html" class="btn-login-nav">Login</a>
                    <a href="register.html" class="btn-signup-nav">Sign Up</a>
                </div>
            </div>
        </div>
    </div>
</nav>